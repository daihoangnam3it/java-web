{"ast":null,"code":"var _jsxFileName = \"C:\\\\HUTECH\\\\Nam4\\\\Java\\\\Workspace\\\\java-web\\\\fe\\\\src\\\\screens\\\\ShippingScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Button, Form, Row, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport FormContainer from '../components/FormContainer';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport { detailUser } from '../actions/userActions';\nimport CheckOutStep from '../components/CheckOutStep';\nimport { saveAddress } from '../actions/cartActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShippingScreen = ({\n  history\n}) => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [name, setName] = useState('');\n  const [address, setAddress] = useState('');\n  const [district, setDistrict] = useState('');\n  const [city, setCity] = useState('');\n  const [message, setMessage] = useState('');\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    user\n  } = userDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const cart = useSelector(state => state.cart);\n  useEffect(() => {\n    if (!userInfo) {\n      history.push('/login');\n    }\n\n    if (cart.cartItems.length <= 0) history.push('/');\n\n    if (!user || !user.name) {\n      dispatch(detailUser());\n    } else {\n      setName(user.name);\n      setAddress(user.address);\n      setDistrict(user.district);\n      setCity(user.city);\n    }\n  }, [dispatch, userInfo, history, user]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (!name || !district || !city || !address) {\n      return setMessage('Vui lòng nhập đầy đủ thông tin');\n    }\n\n    const addressShip = {\n      address: address,\n      district: district,\n      city: city\n    };\n    dispatch(saveAddress(addressShip));\n    history.push('/payment');\n  };\n\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(CheckOutStep, {\n      step1: true,\n      step2: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Shipping\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), message ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }, this) : '', /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          controlId: \"name\",\n          children: \"T\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Nh\\u1EADp t\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          controlId: \"address\",\n          children: \"\\u0110\\u1ECBa ch\\u1EC9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9\",\n          value: address,\n          onChange: e => setAddress(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          controlId: \"district\",\n          children: \"Qu\\u1EADn - huy\\u1EC7n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Nh\\u1EADp qu\\u1EADn huy\\u1EC7n\",\n          value: district,\n          onChange: e => setDistrict(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          controlId: \"city\",\n          children: \"Th\\xE0nh ph\\u1ED1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"name\",\n          placeholder: \"Nh\\u1EADp th\\xE0nh ph\\u1ED1\",\n          value: city,\n          onChange: e => setCity(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"primary\",\n        children: \"X\\xE1c nh\\u1EADn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShippingScreen, \"/nVDlpbnXGvBhgG4uinkvH0HqXg=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ShippingScreen;\nexport default ShippingScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShippingScreen\");","map":{"version":3,"sources":["C:/HUTECH/Nam4/Java/Workspace/java-web/fe/src/screens/ShippingScreen.js"],"names":["React","useEffect","useState","Button","Form","Row","Col","useDispatch","useSelector","Link","FormContainer","Message","Loader","detailUser","CheckOutStep","saveAddress","ShippingScreen","history","dispatch","name","setName","address","setAddress","district","setDistrict","city","setCity","message","setMessage","userDetails","state","user","userLogin","userInfo","cart","push","cartItems","length","submitHandler","e","preventDefault","addressShip","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Button, Form,Row,Col } from 'react-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport FormContainer from '../components/FormContainer';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { detailUser } from '../actions/userActions';\r\nimport CheckOutStep from '../components/CheckOutStep';\r\nimport { saveAddress } from '../actions/cartActions';\r\n\r\nconst ShippingScreen = ({history}) => {\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [district, setDistrict] = useState('');\r\n  const [city, setCity] = useState('');\r\n  const [message,setMessage]=useState('');\r\n  const userDetails = useSelector((state) => state.userDetails);\r\n  const { user } = userDetails;\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  const cart=useSelector(state=>state.cart)\r\n  useEffect(()=>{\r\n    if (!userInfo) {\r\n      history.push('/login');\r\n    }\r\n    if(cart.cartItems.length<=0)\r\n    history.push('/');\r\n    if (!user || !user.name) {\r\n      dispatch(detailUser());\r\n    } else {\r\n      setName(user.name);\r\n      setAddress(user.address);\r\n      setDistrict(user.district);\r\n      setCity(user.city)\r\n    }\r\n\r\n  },[dispatch, userInfo, history, user])\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault();\r\n    if(!name || !district || !city || !address){\r\n      return setMessage('Vui lòng nhập đầy đủ thông tin');\r\n    }\r\n    const addressShip={\r\n      address:address,\r\n      district:district,\r\n      city:city\r\n    }\r\n    dispatch(saveAddress(addressShip))\r\n\r\n    history.push('/payment')\r\n  };\r\n  return (\r\n    <FormContainer>\r\n      <CheckOutStep step1 step2/>\r\n      <h1>Shipping</h1>\r\n      {message?<Message variant=\"danger\">{message}</Message>:''}\r\n      <Form onSubmit={submitHandler}>\r\n      <Form.Group>\r\n        <Form.Label controlId='name'>Tên người nhận</Form.Label>\r\n        <Form.Control\r\n        type=\"name\"\r\n        placeholder='Nhập tên người nhận'\r\n        value={name}\r\n        onChange={(e)=>setName(e.target.value)}\r\n        >\r\n        </Form.Control>\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label controlId='address'>Địa chỉ</Form.Label>\r\n        <Form.Control\r\n        type=\"name\"\r\n        placeholder='Nhập địa chỉ'\r\n        value={address}\r\n        onChange={(e)=>setAddress(e.target.value)}\r\n        >\r\n        </Form.Control>\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label controlId='district'>Quận - huyện</Form.Label>\r\n        <Form.Control\r\n        type=\"name\"\r\n        placeholder='Nhập quận huyện'\r\n        value={district}\r\n        onChange={(e)=>setDistrict(e.target.value)}\r\n        >\r\n        </Form.Control>\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label controlId='city'>Thành phố</Form.Label>\r\n        <Form.Control\r\n        type=\"name\"\r\n        placeholder='Nhập thành phố'\r\n        value={city}\r\n        onChange={(e)=>setCity(e.target.value)}\r\n        >\r\n        </Form.Control>\r\n      </Form.Group>\r\n      <Button type=\"submit\" variant=\"primary\">Xác nhận</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  )\r\n}\r\n\r\nexport default ShippingScreen\r\n"]},"metadata":{},"sourceType":"module"}