{"ast":null,"code":"import { CART_SAVE_METHOD, CART_ADD_ITEM, CART_REMOVE_ITEM, CART_SAVE_ADDRESS } from \"../constants/cartConstant\";\nexport const cartReducer = (state = {\n  cartItems: []\n}, action) => {\n  switch (action.type) {\n    case CART_ADD_ITEM:\n      const item = action.payload;\n      const existItem = state.cartItems.find(el => el.product === item.product);\n\n      if (existItem) {\n        return { ...state,\n          cartItems: state.cartItems.map(el => el.product === existItem.product ? item : el)\n        };\n      } else {\n        return { ...state,\n          cartItems: [...state.cartItems, item]\n        };\n      }\n\n    case CART_REMOVE_ITEM:\n      const newCart = state.cartItems.filter(item => item.product !== action.payload);\n      return { ...state,\n        cartItems: newCart\n      };\n\n    case CART_SAVE_ADDRESS:\n      return { ...state,\n        address: action.payload\n      };\n\n    case CART_SAVE_METHOD:\n      return { ...state,\n        payment: action.payload\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"sources":["C:/HUTECH/Nam4/Java/Workspace/java-web/fe/src/reducers/cartReducer.js"],"names":["CART_SAVE_METHOD","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_ADDRESS","cartReducer","state","cartItems","action","type","item","payload","existItem","find","el","product","map","newCart","filter","address","payment"],"mappings":"AAAA,SAAQA,gBAAR,EAA0BC,aAA1B,EAAyCC,gBAAzC,EAA0DC,iBAA1D,QAAmF,2BAAnF;AAGA,OAAO,MAAMC,WAAW,GAAE,CAACC,KAAK,GAAC;AAACC,EAAAA,SAAS,EAAC;AAAX,CAAP,EAAsBC,MAAtB,KAA+B;AAEvD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKP,aAAL;AACI,YAAMQ,IAAI,GAACF,MAAM,CAACG,OAAlB;AACA,YAAMC,SAAS,GAACN,KAAK,CAACC,SAAN,CAAgBM,IAAhB,CAAqBC,EAAE,IAAEA,EAAE,CAACC,OAAH,KAAaL,IAAI,CAACK,OAA3C,CAAhB;;AACA,UAAGH,SAAH,EAAa;AACX,eAAO,EACL,GAAGN,KADE;AAELC,UAAAA,SAAS,EAACD,KAAK,CAACC,SAAN,CAAgBS,GAAhB,CAAoBF,EAAE,IAAEA,EAAE,CAACC,OAAH,KAAaH,SAAS,CAACG,OAAvB,GAA+BL,IAA/B,GAAoCI,EAA5D;AAFL,SAAP;AAID,OALD,MAKK;AACH,eAAO,EACL,GAAGR,KADE;AAELC,UAAAA,SAAS,EAAC,CAAC,GAAGD,KAAK,CAACC,SAAV,EAAoBG,IAApB;AAFL,SAAP;AAID;;AACL,SAAKP,gBAAL;AACE,YAAMc,OAAO,GAACX,KAAK,CAACC,SAAN,CAAgBW,MAAhB,CAAuBR,IAAI,IAAEA,IAAI,CAACK,OAAL,KAAeP,MAAM,CAACG,OAAnD,CAAd;AACA,aAAO,EACL,GAAGL,KADE;AAELC,QAAAA,SAAS,EAACU;AAFL,OAAP;;AAIF,SAAKb,iBAAL;AACE,aAAO,EACL,GAAGE,KADE;AAELa,QAAAA,OAAO,EAACX,MAAM,CAACG;AAFV,OAAP;;AAIF,SAAKV,gBAAL;AACE,aAAO,EACL,GAAGK,KADE;AAELc,QAAAA,OAAO,EAACZ,MAAM,CAACG;AAFV,OAAP;;AAIF;AACE,aAAOL,KAAP;AAhCJ;AAkCD,CApCM","sourcesContent":["import {CART_SAVE_METHOD, CART_ADD_ITEM, CART_REMOVE_ITEM,CART_SAVE_ADDRESS } from \"../constants/cartConstant\";\r\n\r\n\r\nexport const cartReducer= (state={cartItems:[]},action)=>{\r\n\r\n  switch (action.type) {\r\n    case CART_ADD_ITEM:\r\n        const item=action.payload;\r\n        const existItem=state.cartItems.find(el=>el.product===item.product)\r\n        if(existItem){\r\n          return {\r\n            ...state,\r\n            cartItems:state.cartItems.map(el=>el.product===existItem.product?item:el)\r\n          }\r\n        }else{\r\n          return {\r\n            ...state,\r\n            cartItems:[...state.cartItems,item]\r\n          }\r\n        } \r\n    case CART_REMOVE_ITEM:\r\n      const newCart=state.cartItems.filter(item=>item.product!==action.payload);\r\n      return {\r\n        ...state,\r\n        cartItems:newCart\r\n      }\r\n    case CART_SAVE_ADDRESS:\r\n      return {\r\n        ...state,\r\n        address:action.payload\r\n      }\r\n    case CART_SAVE_METHOD:\r\n      return {\r\n        ...state,\r\n        payment:action.payload\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}