{"ast":null,"code":"var _jsxFileName = \"C:\\\\HUTECH\\\\Nam4\\\\Java\\\\Workspace\\\\java-web\\\\fe\\\\src\\\\screens\\\\ProductScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport Rating from '../components/Rating';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { detailProduct, reviewProduct } from '../actions/productDetailAction';\nimport Loader from '../components/Loader.js';\nimport Message from '../components/Message.js';\nimport { addCartItem } from '../actions/cartActions';\nimport { PRODUCT_REVIEW_RESET } from '../constants/productConstant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductScreen = ({\n  history,\n  match\n}) => {\n  _s();\n\n  const [qty, setQty] = useState(1);\n  const [rating, setRating] = useState(0);\n  const [comment, setComment] = useState('');\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  const data = useSelector(state => state.productDetails);\n  const {\n    loading,\n    product,\n    error\n  } = data;\n  const reviewProducts = useSelector(state => state.reviewProduct);\n  const {\n    loading: loadingProductReview,\n    error: errorProductReview,\n    success: successProductReview\n  } = reviewProducts;\n  useEffect(() => {\n    if (successProductReview) {\n      dispatch({\n        type: PRODUCT_REVIEW_RESET\n      });\n      dispatch(detailProduct(match.params.id));\n      setComment('');\n      setRating(0);\n    }\n\n    dispatch(detailProduct(match.params.id));\n  }, [dispatch, match, successProductReview]);\n\n  const handleAddCart = async () => {\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\n    dispatch(addCartItem(match.params.id, parseInt(qty)));\n  };\n\n  const submitHandler = e => {\n    e.preventDefault();\n    dispatch(reviewProduct(match.params.id, {\n      rating: Number(rating),\n      comment: comment\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"btn btn-dark my-3\",\n      children: \"GO BACK\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: product.image,\n            alt: product.name,\n            fluid: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: /*#__PURE__*/_jsxDEV(Rating, {\n                value: product.rating,\n                text: product.numReviews\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Price: $\", product.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [\"Description: $\", product.description]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: [\"$\", product.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"Status:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: product.countInStock > 0 ? 'In Stock' : 'Out of stock'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), product.countInStock > 0 && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                      as: \"select\",\n                      value: qty,\n                      onChange: e => setQty(e.target.value),\n                      children: [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: x + 1,\n                        children: x + 1\n                      }, x + 1, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 95,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => handleAddCart(),\n                  className: \"btn-black\",\n                  type: \"button\",\n                  disabled: product.countInStock === 0,\n                  children: \"Th\\xEAm v\\xE0o gi\\u1ECF h\\xE0ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(ProductScreen, \"UnFaVcQC0cbeeHM4JYNpW/WwjwE=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = ProductScreen;\nexport default ProductScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductScreen\");","map":{"version":3,"sources":["C:/HUTECH/Nam4/Java/Workspace/java-web/fe/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Row","Col","Image","ListGroup","Card","Button","Form","Link","Rating","useSelector","useDispatch","detailProduct","reviewProduct","Loader","Message","addCartItem","PRODUCT_REVIEW_RESET","ProductScreen","history","match","qty","setQty","rating","setRating","comment","setComment","dispatch","userLogin","state","userInfo","data","productDetails","loading","product","error","reviewProducts","loadingProductReview","errorProductReview","success","successProductReview","type","params","id","handleAddCart","push","parseInt","submitHandler","e","preventDefault","Number","image","name","numReviews","price","description","countInStock","target","value","Array","keys","map","x"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { Row, Col, Image, ListGroup, Card, Button, Form } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport Rating from '../components/Rating';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { detailProduct,reviewProduct } from '../actions/productDetailAction';\r\nimport Loader from '../components/Loader.js';\r\nimport Message from '../components/Message.js';\r\nimport { addCartItem } from '../actions/cartActions';\r\nimport {PRODUCT_REVIEW_RESET} from '../constants/productConstant'\r\nconst ProductScreen = ({history, match }) => {\r\n  const [qty,setQty]=useState(1);\r\n  const [rating,setRating]=useState(0)\r\n  const [comment,setComment]=useState('')\r\n  const dispatch = useDispatch();\r\n\r\n  const userLogin = useSelector((state) => state.userLogin);\r\n  const { userInfo } = userLogin;\r\n  const data = useSelector((state) => state.productDetails);\r\n  const { loading, product, error } = data;\r\n  const reviewProducts=useSelector(state=>state.reviewProduct);\r\n  const {loading:loadingProductReview,error:errorProductReview,success:successProductReview}=reviewProducts\r\n  useEffect(() => {\r\n    if(successProductReview){\r\n      dispatch({type:PRODUCT_REVIEW_RESET})\r\n      dispatch(detailProduct(match.params.id));\r\n      setComment('');\r\n      setRating(0);\r\n\r\n    }\r\n    dispatch(detailProduct(match.params.id));\r\n  }, [dispatch,match,successProductReview]);\r\n  const handleAddCart=async ()=>{\r\n    history.push(`/cart/${match.params.id}?qty=${qty}`);\r\n    dispatch(addCartItem(match.params.id,parseInt(qty)))\r\n  }\r\n \r\n  const submitHandler=(e)=>{\r\n    e.preventDefault();\r\n    dispatch(reviewProduct(match.params.id,{\r\n      rating:Number(rating),\r\n      comment:comment\r\n    }))\r\n  }\r\n  return (\r\n    <>\r\n      <Link to='/' className='btn btn-dark my-3'>\r\n        GO BACK\r\n      </Link>{\r\n        loading?<Loader/>:error?<Message variant=\"danger\">{error}</Message>:(\r\n          <>\r\n          <Row>\r\n          <Col md={6}>\r\n            <Image src={product.image} alt={product.name} fluid />\r\n          </Col>\r\n          <Col md={3}>\r\n            <ListGroup variant='flush'>\r\n              <ListGroup.Item>\r\n                <h3>{product.name}</h3>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Rating value={product.rating} text={product.numReviews} />\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>Price: ${product.price}</ListGroup.Item>\r\n              <ListGroup.Item>\r\n                Description: ${product.description}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={3}>\r\n            <Card>\r\n              <ListGroup variant='flush'>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Price:</Col>\r\n                    <Col>\r\n                      <strong>${product.price}</strong>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Status:</Col>\r\n                    <Col>\r\n                      {product.countInStock > 0 ? 'In Stock' : 'Out of stock'}\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                {product.countInStock > 0 && (\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Số lượng</Col>\r\n                      <Col>\r\n                        <Form.Control as=\"select\" value={qty} onChange={(e)=>setQty(e.target.value)}>\r\n                        { [...Array(product.countInStock).keys()].map(x=>(\r\n                              <option key={x+1} value={x+1}>{x+1}</option>\r\n                            ))}\r\n\r\n                        </Form.Control>\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                )}\r\n                <ListGroup.Item>\r\n                  <Button\r\n                  onClick={()=>handleAddCart()}\r\n                    className='btn-black'\r\n                    type='button'\r\n                    disabled={product.countInStock === 0}\r\n                  >\r\n                    Thêm vào giỏ hàng\r\n                  </Button>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n        {/* <Row>\r\n            <Col md={6}>\r\n              <h2>Đánh giá</h2>\r\n              {product.review.length === 0 && <Message>Chưa có đánh giá</Message>}\r\n              <ListGroup variant='flush'>\r\n                {product.review.map((review) => (\r\n                  <ListGroup.Item key={review.id}>\r\n                    <strong>{review.name}</strong>\r\n                    <Rating value={review.rating} />\r\n                    <p>{review.createdAt.substring(0, 10)}</p>\r\n                    <p>{review.comment}</p>\r\n                  </ListGroup.Item>\r\n                ))}\r\n                <ListGroup.Item>\r\n                  <h2>Write a Customer Review</h2>\r\n                  {successProductReview && (\r\n                    <Message variant='success'>\r\n                      Đánh giá thành công\r\n                    </Message>\r\n                  )}\r\n                  {loadingProductReview && <Loader />}\r\n                  {errorProductReview && (\r\n                    <Message variant='danger'>{errorProductReview}</Message>\r\n                  )}\r\n                  {userInfo ? (\r\n                    <Form onSubmit={submitHandler}>\r\n                      <Form.Group controlId='rating'>\r\n                        <Form.Label>Rating</Form.Label>\r\n                        <Form.Control\r\n                          as='select'\r\n                          value={rating}\r\n                          onChange={(e) => setRating(e.target.value)}\r\n                        >\r\n                          <option value=''>Chọn...</option>\r\n                          <option value='1'>1 - Poor</option>\r\n                          <option value='2'>2 - Fair</option>\r\n                          <option value='3'>3 - Good</option>\r\n                          <option value='4'>4 - Very Good</option>\r\n                          <option value='5'>5 - Excellent</option>\r\n                        </Form.Control>\r\n                      </Form.Group>\r\n                      <Form.Group controlId='comment'>\r\n                        <Form.Label>Đánh giá</Form.Label>\r\n                        <Form.Control\r\n                          as='textarea'\r\n                          row='3'\r\n                          value={comment}\r\n                          onChange={(e) => setComment(e.target.value)}\r\n                        ></Form.Control>\r\n                      </Form.Group>\r\n                      <Button\r\n                        disabled={loadingProductReview}\r\n                        type='submit'\r\n                        variant='primary'\r\n                      >\r\n                        Xác nhận\r\n                      </Button>\r\n                    </Form>\r\n                  ) : (\r\n                    <Message>\r\n                      Đi <Link to='/login'>Đăng nhập</Link> để viết đánh giá{' '}\r\n                    </Message>\r\n                  )}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n          </Row> */}\r\n          </>\r\n        )\r\n      }\r\n      \r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n"]},"metadata":{},"sourceType":"module"}