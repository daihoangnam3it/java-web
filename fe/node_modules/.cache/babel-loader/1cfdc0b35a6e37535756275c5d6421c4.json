{"ast":null,"code":"import axios from 'axios';\nimport { PRODUCT_DETAILS_REQUEST, PRODUCT_DETAILS_SUCCESS, PRODUCT_DETAILS_FAIL, PRODUCT_REVIEW_FAIL, PRODUCT_REVIEW_REQUEST, PRODUCT_REVIEW_SUCCESS, PRODUCT_REVIEW_RESET } from '../constants/productConstant';\nexport const detailProduct = id => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_DETAILS_REQUEST\n    }); // const { data } = await axios.get(`/api/products/${id}`);\n\n    const {\n      data\n    } = await axios.get(`/product/${id}`);\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DETAILS_FAIL,\n      // payload:error.response && error.response.data.msg\n      payload: error.response && error.response.data.msg\n    });\n  }\n};\nexport const reviewProduct = (productid, review) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_REVIEW_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: userInfo.token\n      }\n    };\n    const {\n      data\n    } = await axios.post(`/api/products/${productid}/review`, review, config);\n    dispatch({\n      type: PRODUCT_REVIEW_SUCCESS\n    });\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_REVIEW_FAIL,\n      payload: error.response && error.response.data.msg\n    });\n  }\n};","map":{"version":3,"sources":["C:/HUTECH/Nam4/Java/Workspace/java-web/fe/src/actions/productDetailAction.js"],"names":["axios","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_REVIEW_FAIL","PRODUCT_REVIEW_REQUEST","PRODUCT_REVIEW_SUCCESS","PRODUCT_REVIEW_RESET","detailProduct","id","dispatch","type","data","get","payload","error","response","msg","reviewProduct","productid","review","getState","userLogin","userInfo","config","headers","Authorization","token","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,uBADF,EAEEC,uBAFF,EAGEC,oBAHF,EAIEC,mBAJF,EAKEC,sBALF,EAMEC,sBANF,EAOEC,oBAPF,QAQO,8BARP;AAUA,OAAO,MAAMC,aAAa,GAAIC,EAAD,IAAQ,MAAOC,QAAP,IAAoB;AACvD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR,CADE,CAEF;;AACA,UAAM;AAAEW,MAAAA;AAAF,QAAW,MAAMZ,KAAK,CAACa,GAAN,CAAW,YAAWJ,EAAG,EAAzB,CAAvB;AACAC,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAET,uBADC;AAEPY,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAID,GARD,CAQE,OAAOG,KAAP,EAAc;AACdL,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAER,oBADC;AAEP;AACAW,MAAAA,OAAO,EAAEC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK;AAHxC,KAAD,CAAR;AAKD;AACF,CAhBM;AAkBP,OAAO,MAAMC,aAAa,GAAG,CAACC,SAAD,EAAWC,MAAX,KAAsB,OACjDV,QADiD,EAEjDW,QAFiD,KAG9C;AACH,MAAI;AACFX,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAEN;AAAP,KAAD,CAAR;AACA,UAAM;AACJiB,MAAAA,SAAS,EAAE;AAAEC,QAAAA;AAAF;AADP,QAEFF,QAAQ,EAFZ;AAGA,UAAMG,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEH,QAAQ,CAACI;AADjB;AADI,KAAf;AAKA,UAAM;AAAEf,MAAAA;AAAF,QAAW,MAAMZ,KAAK,CAAC4B,IAAN,CACpB,iBAAgBT,SAAU,SADN,EAErBC,MAFqB,EAGrBI,MAHqB,CAAvB;AAKAd,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEL;AADC,KAAD,CAAR;AAGAI,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAET,uBAAR;AAAiCY,MAAAA,OAAO,EAAEF;AAA1C,KAAD,CAAR;AACD,GAnBD,CAmBE,OAAOG,KAAP,EAAc;AACdL,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEP,mBADC;AAEPU,MAAAA,OAAO,EAAEC,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeJ,IAAf,CAAoBK;AAFxC,KAAD,CAAR;AAID;AACF,CA7BM","sourcesContent":["import axios from 'axios';\r\nimport {\r\n  PRODUCT_DETAILS_REQUEST,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_DETAILS_FAIL,\r\n  PRODUCT_REVIEW_FAIL,\r\n  PRODUCT_REVIEW_REQUEST,\r\n  PRODUCT_REVIEW_SUCCESS,\r\n  PRODUCT_REVIEW_RESET,\r\n} from '../constants/productConstant';\r\n\r\nexport const detailProduct = (id) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DETAILS_REQUEST });\r\n    // const { data } = await axios.get(`/api/products/${id}`);\r\n    const { data } = await axios.get(`/product/${id}`);\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DETAILS_FAIL,\r\n      // payload:error.response && error.response.data.msg\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\nexport const reviewProduct = (productid,review) => async (\r\n  dispatch,\r\n  getState,\r\n) => {\r\n  try {\r\n    dispatch({type: PRODUCT_REVIEW_REQUEST});\r\n    const {\r\n      userLogin: { userInfo },\r\n    } = getState();\r\n    const config = {\r\n      headers: {\r\n        Authorization: userInfo.token,\r\n      },\r\n    };\r\n    const { data } = await axios.post(\r\n      `/api/products/${productid}/review`,\r\n      review,\r\n      config,\r\n    );\r\n    dispatch({\r\n      type: PRODUCT_REVIEW_SUCCESS,\r\n    });\r\n    dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_REVIEW_FAIL,\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}