{"ast":null,"code":"import axios from 'axios';\nimport { PRODUCT_LIST_FAIL, PRODUCT_LIST_REQUEST, PRODUCT_LIST_SUCCESS, PRODUCT_DELETE_FAIL, PRODUCT_DELETE_REQUEST, PRODUCT_DELETE_SUCCESS, PRODUCT_DELETE_RESET, PRODUCT_CREATE_FAIL, PRODUCT_CREATE_REQUEST, PRODUCT_CREATE_SUCCESS, PRODUCT_CREATE_RESET, PRODUCT_UPDATE_FAIL, PRODUCT_UPDATE_REQUEST, PRODUCT_UPDATE_SUCCESS, PRODUCT_UPDATE_RESET, PRODUCT_DETAILS_SUCCESS, PRODUCT_REVIEW_FAIL, PRODUCT_REVIEW_REQUEST, PRODUCT_REVIEW_SUCCESS, PRODUCT_REVIEW_RESET } from '../constants/productConstant';\nexport const listProduct = (keyword = '', pageNumber = '') => async dispatch => {\n  try {\n    dispatch({\n      type: PRODUCT_LIST_REQUEST\n    }); // const { data } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n\n    const {\n      data\n    } = await axios.get(`/products?keyword=${keyword}&pageNumber=${pageNumber}`);\n    console.log(data);\n    dispatch({\n      type: PRODUCT_LIST_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_LIST_FAIL,\n      payload: error.response && error.response.data.msg\n    });\n  }\n};\nexport const deleteProduct = id => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_DELETE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Authorization': userInfo.token\n      }\n    };\n    await axios.delete(`https://javawebdoan.herokuapp.com/product/delete/${id}`);\n    dispatch({\n      type: PRODUCT_DELETE_SUCCESS\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_DELETE_FAIL,\n      payload: error.response && error.response.data.msg\n    });\n  }\n};\nexport const createProduct = () => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_CREATE_REQUEST\n    }); // const {userLogin:{userInfo}}=getState()\n    // const config={\n    //   headers:{\n    //     'Authorization':userInfo.token\n    //   }\n    // }\n\n    const {\n      data\n    } = await axios.post(`https://javawebdoan.herokuapp.com/product/create`, {});\n    console.log(data);\n    dispatch({\n      type: PRODUCT_CREATE_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_CREATE_FAIL,\n      payload: error.response && error.response.data.msg\n    });\n  }\n};\nexport const updateProduct = user => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: PRODUCT_UPDATE_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        'Authorization': userInfo.token\n      }\n    };\n    const {\n      data\n    } = await axios.put(`/api/products/${user.id}/edit`, user, config);\n    dispatch({\n      type: PRODUCT_UPDATE_SUCCESS\n    });\n    dispatch({\n      type: PRODUCT_DETAILS_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: PRODUCT_UPDATE_FAIL,\n      payload: error.response && error.response.data.msg\n    });\n  }\n};","map":{"version":3,"sources":["C:/HUTECH/Nam4/Java/Workspace/java-web/fe/src/actions/productAction.js"],"names":["axios","PRODUCT_LIST_FAIL","PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_DELETE_FAIL","PRODUCT_DELETE_REQUEST","PRODUCT_DELETE_SUCCESS","PRODUCT_DELETE_RESET","PRODUCT_CREATE_FAIL","PRODUCT_CREATE_REQUEST","PRODUCT_CREATE_SUCCESS","PRODUCT_CREATE_RESET","PRODUCT_UPDATE_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_RESET","PRODUCT_DETAILS_SUCCESS","PRODUCT_REVIEW_FAIL","PRODUCT_REVIEW_REQUEST","PRODUCT_REVIEW_SUCCESS","PRODUCT_REVIEW_RESET","listProduct","keyword","pageNumber","dispatch","type","data","get","console","log","payload","error","response","msg","deleteProduct","id","getState","userLogin","userInfo","config","headers","token","delete","createProduct","post","updateProduct","user","put"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport {\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_DELETE_FAIL,\r\n  PRODUCT_DELETE_REQUEST,\r\n  PRODUCT_DELETE_SUCCESS,\r\n  PRODUCT_DELETE_RESET,\r\n  PRODUCT_CREATE_FAIL,\r\n  PRODUCT_CREATE_REQUEST,\r\n  PRODUCT_CREATE_SUCCESS,\r\n  PRODUCT_CREATE_RESET,\r\n  PRODUCT_UPDATE_FAIL,\r\n  PRODUCT_UPDATE_REQUEST,\r\n  PRODUCT_UPDATE_SUCCESS,\r\n  PRODUCT_UPDATE_RESET,\r\n  PRODUCT_DETAILS_SUCCESS,\r\n  PRODUCT_REVIEW_FAIL,\r\n  PRODUCT_REVIEW_REQUEST,\r\n  PRODUCT_REVIEW_SUCCESS,\r\n  PRODUCT_REVIEW_RESET,\r\n} from '../constants/productConstant';\r\n\r\nexport const listProduct = (keyword = '', pageNumber = '') => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_LIST_REQUEST });\r\n    // const { data } = await axios.get(`/api/products?keyword=${keyword}&pageNumber=${pageNumber}`);\r\n    const { data } = await axios.get(`/products?keyword=${keyword}&pageNumber=${pageNumber}`);\r\n    console.log(data);\r\n    dispatch({\r\n      type: PRODUCT_LIST_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_LIST_FAIL,\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\nexport const deleteProduct = (id) => async (dispatch,getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_DELETE_REQUEST });\r\n    const {userLogin:{userInfo}}=getState()\r\n    const config={\r\n      headers:{\r\n        'Authorization':userInfo.token\r\n      }\r\n    }\r\n    await axios.delete(`https://javawebdoan.herokuapp.com/product/delete/${id}`);\r\n    dispatch({\r\n      type: PRODUCT_DELETE_SUCCESS,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_DELETE_FAIL,\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\nexport const createProduct = () => async (dispatch,getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_CREATE_REQUEST });\r\n    // const {userLogin:{userInfo}}=getState()\r\n    // const config={\r\n    //   headers:{\r\n    //     'Authorization':userInfo.token\r\n    //   }\r\n    // }\r\n    const {data}=await axios.post(`https://javawebdoan.herokuapp.com/product/create`,{});\r\n    console.log(data);\r\n    dispatch({\r\n      type: PRODUCT_CREATE_SUCCESS,\r\n      payload:data\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_CREATE_FAIL,\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const updateProduct = (user) => async (dispatch,getState) => {\r\n  try {\r\n    dispatch({ type: PRODUCT_UPDATE_REQUEST });\r\n    const {userLogin:{userInfo}}=getState()\r\n    const config={\r\n      headers:{\r\n        'Authorization':userInfo.token\r\n      }\r\n    }\r\n    const {data}=await axios.put(`/api/products/${user.id}/edit`,user,config);\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_SUCCESS,\r\n    });\r\n    dispatch({type:PRODUCT_DETAILS_SUCCESS,payload:data})\r\n  } catch (error) {\r\n    dispatch({\r\n      type: PRODUCT_UPDATE_FAIL,\r\n      payload: error.response && error.response.data.msg,\r\n    });\r\n  }\r\n};\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}